library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
x <- read_excel(linkGit, col_names = FALSE)
linkGit= "https://raw.githubusercontent.comFundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
x <- read_excel(linkGit, col_names = FALSE)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
x <- read_excel(linkGit, col_names = FALSE)
linkGit= "https://raw.githubusercontent.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
x <- read_excel(linkGit, col_names = FALSE)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
tmp <- tempfile(fileext = ".xlsx")
download.file(linkGit, tmp, mode = "wb")
x <- read_excel(tmp, col_names = FALSE)
new_names <- paste(
as.character(x[3, ]),
as.character(x[5, ]),
as.character(x[6, ]),
sep = " "
)names(x) <- make.names(trimws(new_names), unique = TRUE)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
tmp <- tempfile(fileext = ".xlsx")
download.file(linkGit, tmp, mode = "wb")
x <- read_excel(tmp, col_names = FALSE)
new_names <- paste(
as.character(x[3, ]),
as.character(x[5, ]),
as.character(x[6, ]),
sep = " "
)
names(x) <- make.names(trimws(new_names), unique = TRUE)
d <- x[-c(1:8), ]
head(d)
View(d)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit)
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit)
View(HDI)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
View(HDI)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[4, ]), as.character(HDI_raw[5, ]),
as.character(HDI_raw[6, ]), sep = " ")
new_names <- paste(as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
View(HDI)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI[3, ]), as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]),as.character(HDI[7, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
View(HDI)
HDI_clean <- HDI[-c(1:7), ]
View(HDI_clean)
HDI_clean <- HDI[-c(1:8), ]
View(HDI_clean)
names(HDI_clean) <- gsub("(^NA\\.|\\.NA$|\\.NA\\.)", "", names(HDI_clean))
View(HDI_clean)
names(HDI_clean) <- gsub("(^NA\\.|\\.NA$|\\.NA\\.)", "", names(HDI_clean))
View(HDI_clean)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI[3, ]), as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]),as.character(HDI[7, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA\\.|\\.NA$|\\.NA\\.)", "", names(HDI_clean))
View(HDI_clean)
View(HDI)
HDI_clean <- HDI_clean[, colSums(is.na(HDI_clean)) < nrow(HDI_clean)]
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI[3, ]), as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]),as.character(HDI[7, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA\\.|\\.NA$|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c("NANA", "NANA1", "NANA.a", "NANA.a.1", "NANA2", "NANA.b")] <- NULL
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
HDI_final <- na.omit(HDI_final)
HDI_final <- na.omit(HDI_clean)
View(HDI_final)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI[3, ]), as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]),as.character(HDI[7, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c("NANA", "NANA1", "NANA.a", "NANA.a.1", "NANA2", "NANA.b")] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[c("", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI[3, ]), as.character(HDI[4, ]), as.character(HDI[5, ]),
as.character(HDI[6, ]),as.character(HDI[7, ]), sep = " ")
names(HDI) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
HDI_final <- na.omit(HDI_clean)
HDI_final <- na.omit(HDI_clean)
View(HDI_final)
View(HDI)
View(HDI_final)
HDI_clean[c(" ", "1", "a", "a 1", "2", "b", "a 1 ")] <- NULL
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b", "a 1 ")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
HDI_final <- na.omit(HDI_clean)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
names(HDI_clean)
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
View(HDI_clean)
names(HDI_clean)
HDI_final <- na.omit(HDI_clean)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
View(HDI_final)
names(HDI_final)
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
str(HDI_final)
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
HDI_clean <- HDI_clean %>% mutate(Country = as.character(Country), across(-Country, as.numeric))
names(HDI_clean)
str(HDI_clean)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
means
View(HDI_final)
View(HDI_final)
View(HDI_clean)
HDI_final <- na.omit(HDI_clean)
HDI_final <- HDI_final %>% mutate(Country = as.character(Country), across(-Country, as.numeric))
names(HDI_final)
str(HDI_final)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
str(HDI_final)
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
names(HDI_clean)
str(HDI_clean)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
str(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
HDI_final$`HDI rank`<- as.numeric(HDI_final$`HDI rank`)
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
HDI_clean$Country <- as.character(HDI_clean$Country)
HDI_clean[ , setdiff(names(HDI_clean), "Country")] <-
lapply(HDI_clean[ , setdiff(names(HDI_clean), "Country")], as.numeric)
names(HDI_clean)
str(HDI_clean)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
HDI_final$`HDI rank`<- as.numeric(HDI_final$`HDI rank`)
str(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
means
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
names(HDI_clean)
str(HDI_clean)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
HDI_final$`HDI rank`<- as.numeric(HDI_final$`HDI rank`)
str(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
View(HDI_final)
d[-1] <- lapply(d[-1], \(x) readr::parse_number(as.character(x)))
HDI_final[-1] <- lapply(HDI_final[-1], \(x) readr::parse_number(as.character(x)))
str(HDI_final)
HDI_final[-2] <- lapply(HDI_final[-2], \(x) readr::parse_number(as.character(x)))
str(HDI_final)
knitr::opts_chunk$set(echo = TRUE)
library(rio)
library(readxl)
library(dplyr)
library(tidyr)
library(readr)
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx"
HDI_raw=rio::import(file = linkGit, col_names = FALSE)
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ")
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE)
HDI_clean <- HDI_raw[-c(1:8), ]
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean))
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL
HDI_clean[, 4] <- NULL
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean))
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean))
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean))
names(HDI_clean)
str(HDI_clean)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
View(HDI_final)
HDI_final <- na.omit(HDI_clean)
names(HDI_final)
vars <- c(
"Country",
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)
d <- HDI_final[, vars]
# Convert numeric columns safely
d[-1] <- lapply(d[-1], function(x)
readr::parse_number(as.character(x))
)
d <- HDI_final
# Convert numeric columns safely
d[-1] <- lapply(d[-1], function(x)
readr::parse_number(as.character(x))
)
View(d)
HDI_final[-which(names(HDI_final) == "Country")] <-
lapply(HDI_final[-which(names(HDI_final) == "Country")], function(x) readr::parse_number(as.character(x)))
View(HDI_final)
str(HDI_final)
HDI_final[-which(names(HDI_final) == "Country")] <-
lapply(HDI_final[-which(names(HDI_final) == "Country")], function(x) readr::parse_number(as.character(x)))
str(HDI_final)
means <- colMeans(
HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)],
na.rm = TRUE
)
means
knitr::opts_chunk$set(echo = TRUE)
library(rio) # Load the package for future use
library(dplyr) # Load the package for future use
library(tidyr) # Load the package for future use
library(readr) # Load the package for future use
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx" # Get the link from GITHUB
HDI_raw=rio::import(file = linkGit, col_names = FALSE) # Creates an object that stores the data
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ") # Combines rows 3,4,5,6,7 into a single row as they all are part of the column header/name
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE) # Sets the combined column name from above as the new column names
HDI_clean <- HDI_raw[-c(1:8), ] # Deletes rows 1 to 8 as they are not necessary
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean)) # Removes any kind of NA from column names to simplify them
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL # Drops these columns which were created due to merging the rows earlier as they do not contain any useful info are are mostly NA
HDI_clean[, 4] <- NULL # Drops columns 4 which was just NA with no column name
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean)) # Removes SDG3, SDG4.3 etc from column names as they are of no use
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean)) # Replaces any . with spaces to ensure proper formatting and readability for the column names
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean)) # Combines multiple spaces into one space to ensure proper formatting and readability for the column names
names(HDI_clean) # Shows the names of the columns for checking
str(HDI_clean) # Shows the type and some entries for each column
HDI_clean <- HDI_clean[!is.na(HDI_clean$`HDI rank`), ]
HDI_clean[-which(names(HDI_clean) == "Country")] <-
lapply(HDI_clean[-which(names(HDI_clean) == "Country")],
function(x) readr::parse_number(as.character(x)))
HDI_final <- na.omit(HDI_clean) # Removes countries with NA or missing values
means <- colMeans( HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)], na.rm = TRUE) # Calculates column wise mean for each of the following columns
means # Displays the mean for each column computed above
knitr::opts_chunk$set(echo = TRUE)
library(rio) # Load the package for future use
library(dplyr) # Load the package for future use
library(tidyr) # Load the package for future use
library(readr) # Load the package for future use
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx" # Get the link from GITHUB
HDI_raw=rio::import(file = linkGit, col_names = FALSE) # Creates an object that stores the data
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ") # Combines rows 3,4,5,6,7 into a single row as they all are part of the column header/name
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE) # Sets the combined column name from above as the new column names
HDI_clean <- HDI_raw[-c(1:8), ] # Deletes rows 1 to 8 as they are not necessary
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean)) # Removes any kind of NA from column names to simplify them
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL # Drops these columns which were created due to merging the rows earlier as they do not contain any useful info are are mostly NA
HDI_clean[, 4] <- NULL # Drops columns 4 which was just NA with no column name
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean)) # Removes SDG3, SDG4.3 etc from column names as they are of no use
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean)) # Replaces any . with spaces to ensure proper formatting and readability for the column names
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean)) # Combines multiple spaces into one space to ensure proper formatting and readability for the column names
names(HDI_clean) # Shows the names of the columns for checking
str(HDI_clean) # Shows the type and some entries for each column
HDI_clean <- HDI_clean[!is.na(HDI_clean$`HDI rank`), ]
HDI_final <- na.omit(HDI_clean) # Removes countries with NA or missing values
HDI_final[-which(names(HDI_final) == "Country")] <-
lapply(HDI_final[-which(names(HDI_final) == "Country")], function(x) readr::parse_number(as.character(x))) # Keeps Country column as a char and changes the data type for all the other columns to numeric
str(HDI_final) # Shows the data type and initial values for the columns
means <- colMeans( HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)], na.rm = TRUE) # Calculates column wise mean for each of the following columns
means # Displays the mean for each column computed above
dir.create("output", showWarnings = FALSE)
readr::write_csv(HDI_final, "Final_HDI.csv")
knitr::opts_chunk$set(echo = TRUE)
library(rio) # Load the package for future use
library(dplyr) # Load the package for future use
library(tidyr) # Load the package for future use
library(readr) # Load the package for future use
linkGit= "https://github.com/FundamentalsRudraksh/final_hw_part2/raw/refs/heads/main/HDR25_Statistical_Annex_HDI_Table.xlsx" # Get the link from GITHUB
HDI_raw=rio::import(file = linkGit, col_names = FALSE) # Creates an object that stores the data
new_names <- paste(as.character(HDI_raw[3, ]), as.character(HDI_raw[4, ]),
as.character(HDI_raw[5, ]), as.character(HDI_raw[6, ]),
as.character(HDI_raw[7, ]), sep = " ") # Combines rows 3,4,5,6,7 into a single row as they all are part of the column header/name
names(HDI_raw) <- make.names(trimws(new_names), unique = TRUE) # Sets the combined column name from above as the new column names
HDI_clean <- HDI_raw[-c(1:8), ] # Deletes rows 1 to 8 as they are not necessary
names(HDI_clean) <- gsub("(^NA|NA$|NA\\.|\\.NA|\\.NA\\.)", "", names(HDI_clean)) # Removes any kind of NA from column names to simplify them
HDI_clean[c(" ", "1", "a", "a 1", "2", "b")] <- NULL # Drops these columns which were created due to merging the rows earlier as they do not contain any useful info are are mostly NA
HDI_clean[, 4] <- NULL # Drops columns 4 which was just NA with no column name
names(HDI_clean) <- gsub("^SDG[0-9.]+", "", names(HDI_clean)) # Removes SDG3, SDG4.3 etc from column names as they are of no use
names(HDI_clean) <- gsub("\\.", " ", names(HDI_clean)) # Replaces any . with spaces to ensure proper formatting and readability for the column names
names(HDI_clean) <- gsub(" +", " ", names(HDI_clean)) # Combines multiple spaces into one space to ensure proper formatting and readability for the column names
names(HDI_clean) # Shows the names of the columns for checking
str(HDI_clean) # Shows the type and some entries for each column
HDI_clean <- HDI_clean[!is.na(HDI_clean$`HDI rank`), ] # Keeps countries with HDI rank
HDI_final <- na.omit(HDI_clean) # Removes countries with NA or missing values
HDI_final[-which(names(HDI_final) == "Country")] <-
lapply(HDI_final[-which(names(HDI_final) == "Country")], function(x) readr::parse_number(as.character(x))) # Keeps Country column as a char and changes the data type for all the other columns to numeric
str(HDI_final) # Shows the data type and initial values for the columns
means <- colMeans( HDI_final[, c(
"Life expectancy at birth years 2023",
"Expected years of schooling years 2023",
"Mean years of schooling years 2023",
"Gross national income GNI per capita 2021 PPP 2023"
)], na.rm = TRUE) # Calculates column wise mean for each of the following columns
means # Displays the mean for each column computed above
readr::write_csv(HDI_final, "Final_HDI.csv")
